<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="OrcasCode">
<meta name="description" content="MFC默认UNICODE编码
CTIME类获取时间的类对象，可以通过类方法获取时间
使用方法
CTime m_Time = CTime::GetCurrentTime(); int nYear = m_Time.GetYear(); int nMonth = m_Time.GetMonth(); int nDay = m_Time.GetDay(); int nHour = m_Time.GetHour(); int nMinute = m_Time.GetMinute(); int nSecond = m_Time.GetSecond(); MFC三种开发模式SDK &ndash;&gt; Win32 MFC &ndash;&gt; MFC 托管 &ndash;&gt; CLR 字符串ASCII char CHAR UNICODE wchar_t WCHAR T TCHAR
CString类定义与初始化
CString str(L&#34;大大大&#34;); CString str1; str1 = L&#34;小小小&#34;; CString str2 = str1; CString str3 = L&#39;A&#39;; CString str4(L&#34;A&#34;,66); 格式化字符串">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="MFC基础 笔记"/>
<meta name="twitter:description" content="MFC默认UNICODE编码
CTIME类获取时间的类对象，可以通过类方法获取时间
使用方法
CTime m_Time = CTime::GetCurrentTime(); int nYear = m_Time.GetYear(); int nMonth = m_Time.GetMonth(); int nDay = m_Time.GetDay(); int nHour = m_Time.GetHour(); int nMinute = m_Time.GetMinute(); int nSecond = m_Time.GetSecond(); MFC三种开发模式SDK &ndash;&gt; Win32 MFC &ndash;&gt; MFC 托管 &ndash;&gt; CLR 字符串ASCII char CHAR UNICODE wchar_t WCHAR T TCHAR
CString类定义与初始化
CString str(L&#34;大大大&#34;); CString str1; str1 = L&#34;小小小&#34;; CString str2 = str1; CString str3 = L&#39;A&#39;; CString str4(L&#34;A&#34;,66); 格式化字符串"/>

<meta property="og:title" content="MFC基础 笔记" />
<meta property="og:description" content="MFC默认UNICODE编码
CTIME类获取时间的类对象，可以通过类方法获取时间
使用方法
CTime m_Time = CTime::GetCurrentTime(); int nYear = m_Time.GetYear(); int nMonth = m_Time.GetMonth(); int nDay = m_Time.GetDay(); int nHour = m_Time.GetHour(); int nMinute = m_Time.GetMinute(); int nSecond = m_Time.GetSecond(); MFC三种开发模式SDK &ndash;&gt; Win32 MFC &ndash;&gt; MFC 托管 &ndash;&gt; CLR 字符串ASCII char CHAR UNICODE wchar_t WCHAR T TCHAR
CString类定义与初始化
CString str(L&#34;大大大&#34;); CString str1; str1 = L&#34;小小小&#34;; CString str2 = str1; CString str3 = L&#39;A&#39;; CString str4(L&#34;A&#34;,66); 格式化字符串" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.codetea.top/posts/mfc_basic/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-22T18:30:22+08:00" />
<meta property="article:modified_time" content="2022-02-22T18:30:22+08:00" />




  <title>OPdbg</title>

  
  <link rel="canonical" href="https://www.codetea.top/posts/mfc_basic/">
  

  <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.6b1a4fbc48955b72aea7913e43fabeb45e8bc120da5aa41b598dd33adcac4b59.css" integrity="sha256-axpPvEiVW3Kup5E&#43;Q/q&#43;tF6LwSDaWqQbWY3TOtysS1k=" crossorigin="anonymous" media="screen" />





  
  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.39e41a7f16bdf8cb16e43cae7d714fa1016f1d2d2898a5b3f27f42c9979204e2.css" integrity="sha256-OeQafxa9&#43;MsW5DyufXFPoQFvHS0omKWz8n9CyZeSBOI=" crossorigin="anonymous" media="screen" />
  



   





  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">


  

  <meta name="generator" content="Hugo 0.101.0" />


  
<script>
  MathJax = {
    tex: {
      inlineMath: [["$", "$"]],
    },
    displayMath: [
      ["$$", "$$"],
      ["\[\[", "\]\]"],
    ],
    svg: {
      fontCache: "global",
    },
  };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
></script>


  <script>renderMathInElement(document.body);</script>

<link href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.1/styles/atom-one-dark-reasonable.min.css" rel="stylesheet">
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.1/languages/armasm.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.1/languages/mipsasm.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.1/languages/wasm.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.1/languages/x86asm.min.js"></script>
<script>hljs.highlightAll();</script>
</head>







<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      OPdbg
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Posts</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/categories/">Categories</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/tags/">Tags</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/link/">Link</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://www.codetea.top/posts/mfc_basic/">
              MFC基础 笔记
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2022-02-22T18:30:22&#43;08:00">
                February 22, 2022
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              8-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa fa-folder" aria-hidden="true"></i>
    <a href="/categories/develop/">develop</a></div>

          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/windows/">Windows</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/note/">“Note&#34;</a>
    </span></div>

        </div>
      </header>

      <div>
        
        <h1 id="mfc">
  MFC
  <a class="heading-link" href="#mfc">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h1>
<p>默认UNICODE编码</p>
<h2 id="ctime类">
  CTIME类
  <a class="heading-link" href="#ctime%e7%b1%bb">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>获取时间的类对象，可以通过类方法获取时间</p>
<p>使用方法</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>CTime m_Time = CTime::GetCurrentTime();
</span></span><span style="display:flex;"><span><span style="">int</span> nYear = m_Time.GetYear();
</span></span><span style="display:flex;"><span><span style="">int</span> nMonth = m_Time.GetMonth();
</span></span><span style="display:flex;"><span><span style="">int</span> nDay = m_Time.GetDay();
</span></span><span style="display:flex;"><span><span style="">int</span> nHour = m_Time.GetHour();
</span></span><span style="display:flex;"><span><span style="">int</span> nMinute = m_Time.GetMinute();
</span></span><span style="display:flex;"><span><span style="">int</span> nSecond = m_Time.GetSecond();
</span></span></code></pre></div><h2 id="mfc三种开发模式">
  MFC三种开发模式
  <a class="heading-link" href="#mfc%e4%b8%89%e7%a7%8d%e5%bc%80%e5%8f%91%e6%a8%a1%e5%bc%8f">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<ol>
<li>SDK &ndash;&gt; Win32</li>
<li>MFC &ndash;&gt; MFC</li>
<li>托管 &ndash;&gt; CLR</li>
</ol>
<h2 id="字符串">
  字符串
  <a class="heading-link" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>ASCII <code>char CHAR</code>
UNICODE <code>wchar_t WCHAR</code>
T <code>TCHAR</code></p>
<h3 id="cstring类">
  CString类
  <a class="heading-link" href="#cstring%e7%b1%bb">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>定义与初始化</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>CString str(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;大大大&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CString str1;
</span></span><span style="display:flex;"><span>str1 = <span style="font-style:italic">L</span><span style="font-style:italic">&#34;小小小&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CString str2 = str1;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CString str3 = <span style="font-style:italic">L</span><span style="font-style:italic">&#39;A&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CString str4(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;A&#34;</span>,66);
</span></span></code></pre></div><p>格式化字符串</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>CString str;
</span></span><span style="display:flex;"><span><span style="">int</span> nFlag = 100;
</span></span><span style="display:flex;"><span><span style="">char</span> strz[] = <span style="font-style:italic">&#34;Hello World!&#34;</span>;
</span></span><span style="display:flex;"><span>str.Format(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;char = %S int = %d&#34;</span>, strz, nFlag);
</span></span></code></pre></div><p>字符串长度获取</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="">int</span> count = str.GetLength();
</span></span></code></pre></div><p>判断字符串为空</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="">bool</span> flag = str.IsEmpty();
</span></span></code></pre></div><p>字符串拼接</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>CString A(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;A&#34;</span>);
</span></span><span style="display:flex;"><span>CString B(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;B&#34;</span>);
</span></span><span style="display:flex;"><span>A = A + B;
</span></span></code></pre></div><p>切片操作</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>CString A(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;ABCDEFGH&#34;</span>);
</span></span><span style="display:flex;"><span>CString B = A.Left(2);
</span></span><span style="display:flex;"><span>CString C = A.Mid(2, 2);
</span></span><span style="display:flex;"><span>CString D = A.Right(2);
</span></span></code></pre></div><p>删除操作</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>CString A(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;ABCDEFGH&#34;</span>);
</span></span><span style="display:flex;"><span>A.Remove(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;A&#34;</span>);
</span></span></code></pre></div><p>获取字符串</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>CString A(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;ABCDEFGH&#34;</span>);
</span></span><span style="display:flex;"><span>LPTSTR TSTR = A.GetBuffer();
</span></span></code></pre></div><h2 id="windows消息基础">
  Windows消息基础
  <a class="heading-link" href="#windows%e6%b6%88%e6%81%af%e5%9f%ba%e7%a1%80">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>消息的来源</p>
<ul>
<li>由操作系统产生</li>
<li>用户触发事件转换</li>
<li>由另一个消息产生</li>
</ul>
<p>消息的定义</p>
<table>
<thead>
<tr>
<th>前缀</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>WM</td>
<td>普通窗口</td>
</tr>
<tr>
<td>BM</td>
<td>按钮</td>
</tr>
<tr>
<td>CB</td>
<td>组合框</td>
</tr>
<tr>
<td>CDM</td>
<td>通用对话框</td>
</tr>
<tr>
<td>DBT</td>
<td>设备信息</td>
</tr>
<tr>
<td>DL</td>
<td>下拉列表</td>
</tr>
<tr>
<td>EM</td>
<td>编辑框</td>
</tr>
<tr>
<td>HKM</td>
<td>热键</td>
</tr>
<tr>
<td>IPM</td>
<td>IP控件</td>
</tr>
<tr>
<td>LB</td>
<td>列表框</td>
</tr>
<tr>
<td>LVM</td>
<td>列表视图</td>
</tr>
<tr>
<td>MCM</td>
<td>日历控件</td>
</tr>
<tr>
<td>PBM</td>
<td>进度条</td>
</tr>
<tr>
<td>PSM</td>
<td>属性</td>
</tr>
<tr>
<td>RB</td>
<td>伸缩条</td>
</tr>
<tr>
<td>SB</td>
<td>状态栏</td>
</tr>
<tr>
<td>STM</td>
<td>静态栏</td>
</tr>
<tr>
<td>TB</td>
<td>工具条</td>
</tr>
<tr>
<td>TBM</td>
<td>跟踪条</td>
</tr>
<tr>
<td>TCM</td>
<td>标签控件</td>
</tr>
<tr>
<td>TVM</td>
<td>树视图</td>
</tr>
<tr>
<td>UDM</td>
<td>微调按钮控件</td>
</tr>
</tbody>
</table>
<p>MSG结构体</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="font-weight:bold">typedef</span> <span style="font-weight:bold">struct</span> tagMSG{
</span></span><span style="display:flex;"><span>    HWND hwnd;
</span></span><span style="display:flex;"><span>    UINT message;
</span></span><span style="display:flex;"><span>    WPARAM wParam;
</span></span><span style="display:flex;"><span>    LPARAM lParam;
</span></span><span style="display:flex;"><span>    DWORD time;
</span></span><span style="display:flex;"><span>    POINT pt;
</span></span><span style="display:flex;"><span><span style="">#ifdef _MAC
</span></span></span><span style="display:flex;"><span><span style=""></span>	DWORD lPrivate;
</span></span><span style="display:flex;"><span><span style="">#endif
</span></span></span><span style="display:flex;"><span><span style=""></span>} 	MSG, *PMSG, NEAR *NPMSG, FAR *LPMSG;
</span></span></code></pre></div><h3 id="预定义消息">
  预定义消息
  <a class="heading-link" href="#%e9%a2%84%e5%ae%9a%e4%b9%89%e6%b6%88%e6%81%af">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<h4 id="窗口消息">
  窗口消息
  <a class="heading-link" href="#%e7%aa%97%e5%8f%a3%e6%b6%88%e6%81%af">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p><code>WM_CREATE</code> 创建窗口
<code>WM_PAINT</code> 绘制窗口
<code>WM_DESTROY</code> 销毁窗口
<code>WM_KILLFOCUS</code> 失去焦点
<code>WM_SETFOCUS</code> 获得焦点
<code>WM_MEASUREITEM</code>
<code>WM_DRAWTEM</code></p>
<p>命令消息
<code>WM_COMMAND</code></p>
<h4 id="控件通知消息">
  控件通知消息
  <a class="heading-link" href="#%e6%8e%a7%e4%bb%b6%e9%80%9a%e7%9f%a5%e6%b6%88%e6%81%af">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<p><code>WM_xxxx</code></p>
<ul>
<li><code>WM_PARENTNOTIFY</code></li>
<li><code>WM_CTLCOLOR</code> &hellip;</li>
<li><code>WM_VSCROLL/WM_HSCROLL</code></li>
</ul>
<p>按钮控件
组合框控件
编辑框控件
列表框控件</p>
<p><code>WM_NOTIFY</code>
控件绘制结构体</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="font-weight:bold">typedef</span> <span style="font-weight:bold">struct</span> tagDRAWITEMSTRUCT {
</span></span><span style="display:flex;"><span>    UINT        CtlType;
</span></span><span style="display:flex;"><span>    UINT        CtlID;
</span></span><span style="display:flex;"><span>    UINT        itemID;
</span></span><span style="display:flex;"><span>    UINT        itemAction;
</span></span><span style="display:flex;"><span>    UINT        itemState;
</span></span><span style="display:flex;"><span>    HWND        hwndItem;
</span></span><span style="display:flex;"><span>    HDC         hDC;
</span></span><span style="display:flex;"><span>    RECT        rcItem;
</span></span><span style="display:flex;"><span>    ULONG_PTR   itemData;
</span></span><span style="display:flex;"><span>} DRAWITEMSTRUCT, NEAR *PDRAWITEMSTRUCT, FAR *LPDRAWITEMSTRUCT;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="font-weight:bold">typedef</span> <span style="font-weight:bold">struct</span> tagNMHDR
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    HWND      hwndFrom;
</span></span><span style="display:flex;"><span>    UINT_PTR  idFrom;
</span></span><span style="display:flex;"><span>    UINT      code;         <span style="font-style:italic">// NM_ code
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>}   NMHDR;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="font-weight:bold">typedef</span> <span style="font-weight:bold">struct</span> tagLVKEYDOWN
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    NMHDR hdr;
</span></span><span style="display:flex;"><span>    WORD wVKey;
</span></span><span style="display:flex;"><span>    UINT flags;
</span></span><span style="display:flex;"><span>} NMLVKEYDOWN, *LPNMLVKEYDOWN;
</span></span></code></pre></div><h3 id="自定义消息">
  自定义消息
  <a class="heading-link" href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%b6%88%e6%81%af">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="">#define MY_MSG WM_USER+1
</span></span></span></code></pre></div><p>使用方法
<code>SendMessage</code> 同步方式
<code>PostMessage</code> 异步方式</p>
<h2 id="win32sdk">
  Win32(SDK)
  <a class="heading-link" href="#win32sdk">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<ol>
<li>WinMain</li>
<li>MSG结构体</li>
<li>注册窗口</li>
<li>创建窗口</li>
<li>显示窗口</li>
<li>刷新窗口</li>
<li>消息循环</li>
<li>WindowProc</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="font-style:italic">// WindowsSDK.cpp : 定义应用程序的入口点。
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="">#include</span> <span style="">&#34;framework.h&#34;</span><span style="">
</span></span></span><span style="display:flex;"><span><span style="">#include</span> <span style="">&#34;WindowsSDK.h&#34;</span><span style="">
</span></span></span><span style="display:flex;"><span><span style=""></span>
</span></span><span style="display:flex;"><span><span style="">#define MAX_LOADSTRING 100
</span></span></span><span style="display:flex;"><span><span style=""></span>
</span></span><span style="display:flex;"><span><span style="font-style:italic">// 全局变量:
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>HINSTANCE hInst;                                <span style="font-style:italic">// 当前实例
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>WCHAR szTitle[MAX_LOADSTRING];                  <span style="font-style:italic">// 标题栏文本
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>WCHAR szWindowClass[MAX_LOADSTRING];            <span style="font-style:italic">// 主窗口类名
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="font-style:italic">// 此代码模块中包含的函数的前向声明:
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>ATOM                MyRegisterClass(HINSTANCE hInstance);
</span></span><span style="display:flex;"><span>BOOL                InitInstance(HINSTANCE, <span style="">int</span>);
</span></span><span style="display:flex;"><span>LRESULT CALLBACK    WndProc(HWND, UINT, WPARAM, LPARAM);
</span></span><span style="display:flex;"><span>INT_PTR CALLBACK    About(HWND, UINT, WPARAM, LPARAM);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="">int</span> APIENTRY wWinMain(_In_ HINSTANCE hInstance,
</span></span><span style="display:flex;"><span>                     _In_opt_ HINSTANCE hPrevInstance,
</span></span><span style="display:flex;"><span>                     _In_ LPWSTR    lpCmdLine,
</span></span><span style="display:flex;"><span>                     _In_ <span style="">int</span>       nCmdShow)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    UNREFERENCED_PARAMETER(hPrevInstance);
</span></span><span style="display:flex;"><span>    UNREFERENCED_PARAMETER(lpCmdLine);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-style:italic">// TODO: 在此处放置代码。
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="font-style:italic">// 初始化全局字符串
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>    LoadStringW(hInstance, IDS_APP_TITLE, szTitle, MAX_LOADSTRING);
</span></span><span style="display:flex;"><span>    LoadStringW(hInstance, IDC_WINDOWSSDK, szWindowClass, MAX_LOADSTRING);
</span></span><span style="display:flex;"><span>    MyRegisterClass(hInstance);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-style:italic">// 执行应用程序初始化:
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>    <span style="font-weight:bold">if</span> (!InitInstance (hInstance, nCmdShow))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">return</span> FALSE;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    HACCEL hAccelTable = LoadAccelerators(hInstance, MAKEINTRESOURCE(IDC_WINDOWSSDK));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    MSG msg;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-style:italic">// 主消息循环:
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>    <span style="font-weight:bold">while</span> (GetMessage(&amp;msg, <span style="font-weight:bold">nullptr</span>, 0, 0))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">if</span> (!TranslateAccelerator(msg.hwnd, hAccelTable, &amp;msg))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            TranslateMessage(&amp;msg);
</span></span><span style="display:flex;"><span>            DispatchMessage(&amp;msg);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">return</span> (<span style="">int</span>) msg.wParam;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//  函数: MyRegisterClass()
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//  目标: 注册窗口类。
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>ATOM MyRegisterClass(HINSTANCE hInstance)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    WNDCLASSEXW wcex;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    wcex.cbSize = <span style="font-weight:bold">sizeof</span>(WNDCLASSEX);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    wcex.style          = CS_HREDRAW | CS_VREDRAW;
</span></span><span style="display:flex;"><span>    wcex.lpfnWndProc    = WndProc;
</span></span><span style="display:flex;"><span>    wcex.cbClsExtra     = 0;
</span></span><span style="display:flex;"><span>    wcex.cbWndExtra     = 0;
</span></span><span style="display:flex;"><span>    wcex.hInstance      = hInstance;
</span></span><span style="display:flex;"><span>    wcex.hIcon          = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_WINDOWSSDK));
</span></span><span style="display:flex;"><span>    wcex.hCursor        = LoadCursor(<span style="font-weight:bold">nullptr</span>, IDC_ARROW);
</span></span><span style="display:flex;"><span>    wcex.hbrBackground  = (HBRUSH)(COLOR_WINDOW+1);
</span></span><span style="display:flex;"><span>    wcex.lpszMenuName   = MAKEINTRESOURCEW(IDC_WINDOWSSDK);
</span></span><span style="display:flex;"><span>    wcex.lpszClassName  = szWindowClass;
</span></span><span style="display:flex;"><span>    wcex.hIconSm        = LoadIcon(wcex.hInstance, MAKEINTRESOURCE(IDI_SMALL));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">return</span> RegisterClassExW(&amp;wcex);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//   函数: InitInstance(HINSTANCE, int)
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//   目标: 保存实例句柄并创建主窗口
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//   注释:
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//        在此函数中，我们在全局变量中保存实例句柄并
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//        创建和显示主程序窗口。
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>BOOL InitInstance(HINSTANCE hInstance, <span style="">int</span> nCmdShow)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>   hInst = hInstance; <span style="font-style:italic">// 将实例句柄存储在全局变量中
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>
</span></span><span style="display:flex;"><span>   HWND hWnd = CreateWindowW(szWindowClass, szTitle, WS_OVERLAPPEDWINDOW,
</span></span><span style="display:flex;"><span>      CW_USEDEFAULT, 0, CW_USEDEFAULT, 0, <span style="font-weight:bold">nullptr</span>, <span style="font-weight:bold">nullptr</span>, hInstance, <span style="font-weight:bold">nullptr</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="font-weight:bold">if</span> (!hWnd)
</span></span><span style="display:flex;"><span>   {
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">return</span> FALSE;
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   ShowWindow(hWnd, nCmdShow);
</span></span><span style="display:flex;"><span>   UpdateWindow(hWnd);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="font-weight:bold">return</span> TRUE;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//  函数: WndProc(HWND, UINT, WPARAM, LPARAM)
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//  目标: 处理主窗口的消息。
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//  WM_COMMAND  - 处理应用程序菜单
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//  WM_PAINT    - 绘制主窗口
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//  WM_DESTROY  - 发送退出消息并返回
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic">//
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">switch</span> (message)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">case</span> WM_COMMAND:
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="">int</span> wmId = LOWORD(wParam);
</span></span><span style="display:flex;"><span>            <span style="font-style:italic">// 分析菜单选择:
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>            <span style="font-weight:bold">switch</span> (wmId)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">case</span> IDM_ABOUT:
</span></span><span style="display:flex;"><span>                DialogBox(hInst, MAKEINTRESOURCE(IDD_ABOUTBOX), hWnd, About);
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">case</span> IDM_EXIT:
</span></span><span style="display:flex;"><span>                DestroyWindow(hWnd);
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">default</span>:
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">return</span> DefWindowProc(hWnd, message, wParam, lParam);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">case</span> WM_PAINT:
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            PAINTSTRUCT ps;
</span></span><span style="display:flex;"><span>            HDC hdc = BeginPaint(hWnd, &amp;ps);
</span></span><span style="display:flex;"><span>            <span style="font-style:italic">// TODO: 在此处添加使用 hdc 的任何绘图代码...
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>            EndPaint(hWnd, &amp;ps);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">case</span> WM_DESTROY:
</span></span><span style="display:flex;"><span>        PostQuitMessage(0);
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">default</span>:
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">return</span> DefWindowProc(hWnd, message, wParam, lParam);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">return</span> 0;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-style:italic">// “关于”框的消息处理程序。
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>INT_PTR CALLBACK About(HWND hDlg, UINT message, WPARAM wParam, LPARAM lParam)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    UNREFERENCED_PARAMETER(lParam);
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">switch</span> (message)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">case</span> WM_INITDIALOG:
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">return</span> (INT_PTR)TRUE;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">case</span> WM_COMMAND:
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">if</span> (LOWORD(wParam) == IDOK || LOWORD(wParam) == IDCANCEL)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            EndDialog(hDlg, LOWORD(wParam));
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">return</span> (INT_PTR)TRUE;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">return</span> (INT_PTR)FALSE;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="键盘消息">
  键盘消息
  <a class="heading-link" href="#%e9%94%ae%e7%9b%98%e6%b6%88%e6%81%af">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>与key有关的</p>
<p>相关代码</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>BOOL CMFCKeyDlg::PreTranslateMessage(MSG* pMsg)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="font-style:italic">// TODO: 在此添加专用代码和/或调用基类
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>	SHORT nShift = GetKeyState(VK_SHIFT);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">switch</span> (pMsg-&gt;message)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">case</span> WM_KEYDOWN:
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">switch</span> (pMsg-&gt;wParam)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">case</span> VK_F2:
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">if</span> (nShift &lt; 0)
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;F2 + shift Message!&#34;</span>);
</span></span><span style="display:flex;"><span>				<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;F2 Message!&#34;</span>);
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">case</span> 0x41:
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;A Message!&#34;</span>);
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">case</span> VK_ESCAPE:
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">return</span> 0;
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">case</span> VK_RETURN:
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">return</span> 0;
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">default</span>:
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">default</span>:
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">return</span> CDialogEx::PreTranslateMessage(pMsg);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>虚拟键码</p>
<ul>
<li><code>VK_xxx</code></li>
<li>ASCII码</li>
</ul>
<p>虚拟键码表</p>
<table>
<thead>
<tr>
<th>虚拟键码</th>
<th>对应值</th>
<th>对应键</th>
</tr>
</thead>
<tbody>
<tr>
<td>VK_LBUTTON</td>
<td>1</td>
<td>鼠标左键</td>
</tr>
<tr>
<td>VK_RBUTTON</td>
<td>2</td>
<td>鼠标右键</td>
</tr>
<tr>
<td>VK_CANCEL</td>
<td>3</td>
<td>Cancel</td>
</tr>
<tr>
<td>VK_MBUTTON</td>
<td>4</td>
<td>鼠标中键</td>
</tr>
<tr>
<td>VK_XBUTTON1</td>
<td>5</td>
<td></td>
</tr>
<tr>
<td>VK_XBUTTON2</td>
<td>6</td>
<td></td>
</tr>
<tr>
<td>VK_BACK</td>
<td>8</td>
<td>Backspace</td>
</tr>
<tr>
<td>VK_TAB</td>
<td>9</td>
<td>Tab</td>
</tr>
<tr>
<td>VK_CLEAR</td>
<td>12</td>
<td>Clear</td>
</tr>
<tr>
<td>VK_RETURN</td>
<td>13</td>
<td>Enter</td>
</tr>
<tr>
<td>VK_SHIFT</td>
<td>16</td>
<td>Shift</td>
</tr>
<tr>
<td>VK_CONTROL</td>
<td>17</td>
<td>Ctrl</td>
</tr>
<tr>
<td>VK_MENU</td>
<td>18</td>
<td>Alt</td>
</tr>
<tr>
<td>VK_PAUSE</td>
<td>19</td>
<td>Pause</td>
</tr>
<tr>
<td>VK_CAPITAL</td>
<td>20</td>
<td>Caps Lock</td>
</tr>
<tr>
<td>VK_KANA</td>
<td>21</td>
<td></td>
</tr>
<tr>
<td>VK_HANGUL</td>
<td>21</td>
<td></td>
</tr>
<tr>
<td>VK_JUNJA</td>
<td>23</td>
<td></td>
</tr>
<tr>
<td>VK_FINAL</td>
<td>24</td>
<td></td>
</tr>
<tr>
<td>VK_HANJA</td>
<td>25</td>
<td></td>
</tr>
<tr>
<td>VK_KANJI</td>
<td>25*</td>
<td></td>
</tr>
<tr>
<td>VK_ESCAPE</td>
<td>27</td>
<td>Esc</td>
</tr>
<tr>
<td>VK_CONVERT</td>
<td>28</td>
<td></td>
</tr>
<tr>
<td>VK_NONCONVERT</td>
<td>29</td>
<td></td>
</tr>
<tr>
<td>VK_ACCEPT</td>
<td>30</td>
<td></td>
</tr>
<tr>
<td>VK_MODECHANGE</td>
<td>31</td>
<td></td>
</tr>
<tr>
<td>VK_SPACE</td>
<td>32</td>
<td>Space</td>
</tr>
<tr>
<td>VK_PRIOR</td>
<td>33</td>
<td>Page Up</td>
</tr>
<tr>
<td>VK_NEXT</td>
<td>34</td>
<td>Page Down</td>
</tr>
<tr>
<td>VK_END</td>
<td>35</td>
<td>End</td>
</tr>
<tr>
<td>VK_HOME</td>
<td>36</td>
<td>Home</td>
</tr>
<tr>
<td>VK_LEFT</td>
<td>37</td>
<td>Left Arrow</td>
</tr>
<tr>
<td>VK_UP</td>
<td>38</td>
<td>Up Arrow</td>
</tr>
<tr>
<td>VK_RIGHT</td>
<td>39</td>
<td>Right Arrow</td>
</tr>
<tr>
<td>VK_DOWN</td>
<td>40</td>
<td>Down Arrow</td>
</tr>
<tr>
<td>VK_SELECT</td>
<td>41</td>
<td>Select</td>
</tr>
<tr>
<td>VK_PRINT</td>
<td>42</td>
<td>Print</td>
</tr>
<tr>
<td>VK_EXECUTE</td>
<td>43</td>
<td>Execute</td>
</tr>
<tr>
<td>VK_SNAPSHOT</td>
<td>44</td>
<td>Snapshot</td>
</tr>
<tr>
<td>VK_INSERT</td>
<td>45</td>
<td>Insert</td>
</tr>
<tr>
<td>VK_DELETE</td>
<td>46</td>
<td>Delete</td>
</tr>
<tr>
<td>VK_HELP</td>
<td>47</td>
<td>Help</td>
</tr>
<tr>
<td></td>
<td>48</td>
<td>0</td>
</tr>
<tr>
<td></td>
<td>49</td>
<td>1</td>
</tr>
<tr>
<td></td>
<td>50</td>
<td>2</td>
</tr>
<tr>
<td></td>
<td>51</td>
<td>3</td>
</tr>
<tr>
<td></td>
<td>52</td>
<td>4</td>
</tr>
<tr>
<td></td>
<td>53</td>
<td>5</td>
</tr>
<tr>
<td></td>
<td>54</td>
<td>6</td>
</tr>
<tr>
<td></td>
<td>55</td>
<td>7</td>
</tr>
<tr>
<td></td>
<td>56</td>
<td>8</td>
</tr>
<tr>
<td></td>
<td>57</td>
<td>9</td>
</tr>
<tr>
<td></td>
<td>65</td>
<td>A</td>
</tr>
<tr>
<td></td>
<td>66</td>
<td>B</td>
</tr>
<tr>
<td></td>
<td>67</td>
<td>C</td>
</tr>
<tr>
<td></td>
<td>68</td>
<td>D</td>
</tr>
<tr>
<td></td>
<td>69</td>
<td>E</td>
</tr>
<tr>
<td></td>
<td>70</td>
<td>F</td>
</tr>
<tr>
<td></td>
<td>71</td>
<td>G</td>
</tr>
<tr>
<td></td>
<td>72</td>
<td>H</td>
</tr>
<tr>
<td></td>
<td>73</td>
<td>I</td>
</tr>
<tr>
<td></td>
<td>74</td>
<td>J</td>
</tr>
<tr>
<td></td>
<td>75</td>
<td>K</td>
</tr>
<tr>
<td></td>
<td>76</td>
<td>L</td>
</tr>
<tr>
<td></td>
<td>77</td>
<td>M</td>
</tr>
<tr>
<td></td>
<td>78</td>
<td>N</td>
</tr>
<tr>
<td></td>
<td>79</td>
<td>O</td>
</tr>
<tr>
<td></td>
<td>80</td>
<td>P</td>
</tr>
<tr>
<td></td>
<td>81</td>
<td>Q</td>
</tr>
<tr>
<td></td>
<td>82</td>
<td>R</td>
</tr>
<tr>
<td></td>
<td>83</td>
<td>S</td>
</tr>
<tr>
<td></td>
<td>84</td>
<td>T</td>
</tr>
<tr>
<td></td>
<td>85</td>
<td>U</td>
</tr>
<tr>
<td></td>
<td>86</td>
<td>V</td>
</tr>
<tr>
<td></td>
<td>87</td>
<td>W</td>
</tr>
<tr>
<td></td>
<td>88</td>
<td>X</td>
</tr>
<tr>
<td></td>
<td>89</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>90</td>
<td>Z</td>
</tr>
<tr>
<td>VK_LWIN</td>
<td>91</td>
<td></td>
</tr>
<tr>
<td>VK_RWIN</td>
<td>92</td>
<td></td>
</tr>
<tr>
<td>VK_APPS</td>
<td>93</td>
<td></td>
</tr>
<tr>
<td>VK_SLEEP</td>
<td>95</td>
<td></td>
</tr>
<tr>
<td>VK_NUMPAD0</td>
<td>96</td>
<td>小键盘 0</td>
</tr>
<tr>
<td>VK_NUMPAD1</td>
<td>97</td>
<td>小键盘 1</td>
</tr>
<tr>
<td>VK_NUMPAD2</td>
<td>98</td>
<td>小键盘 2</td>
</tr>
<tr>
<td>VK_NUMPAD3</td>
<td>99</td>
<td>小键盘 3</td>
</tr>
<tr>
<td>VK_NUMPAD4</td>
<td>100</td>
<td>小键盘 4</td>
</tr>
<tr>
<td>VK_NUMPAD5</td>
<td>101</td>
<td>小键盘 5</td>
</tr>
<tr>
<td>VK_NUMPAD6</td>
<td>102</td>
<td>小键盘 6</td>
</tr>
<tr>
<td>VK_NUMPAD7</td>
<td>103</td>
<td>小键盘 7</td>
</tr>
<tr>
<td>VK_NUMPAD8</td>
<td>104</td>
<td>小键盘 8</td>
</tr>
<tr>
<td>VK_NUMPAD9</td>
<td>105</td>
<td>小键盘 9</td>
</tr>
<tr>
<td>VK_MULTIPLY</td>
<td>106</td>
<td>小键盘 *</td>
</tr>
<tr>
<td>VK_ADD</td>
<td>107</td>
<td>小键盘 +</td>
</tr>
<tr>
<td>VK_SEPARATOR</td>
<td>108</td>
<td>小键盘 Enter</td>
</tr>
<tr>
<td>VK_SUBTRACT</td>
<td>109</td>
<td>小键盘 -</td>
</tr>
<tr>
<td>VK_DECIMAL</td>
<td>110</td>
<td>小键盘 .</td>
</tr>
<tr>
<td>VK_DIVIDE</td>
<td>111</td>
<td>小键盘 /</td>
</tr>
<tr>
<td>VK_F1</td>
<td>112</td>
<td>F1</td>
</tr>
<tr>
<td>VK_F2</td>
<td>113</td>
<td>F2</td>
</tr>
<tr>
<td>VK_F3</td>
<td>114</td>
<td>F3</td>
</tr>
<tr>
<td>VK_F4</td>
<td>115</td>
<td>F4</td>
</tr>
<tr>
<td>VK_F5</td>
<td>116</td>
<td>F5</td>
</tr>
<tr>
<td>VK_F6</td>
<td>117</td>
<td>F6</td>
</tr>
<tr>
<td>VK_F7</td>
<td>118</td>
<td>F7</td>
</tr>
<tr>
<td>VK_F8</td>
<td>119</td>
<td>F8</td>
</tr>
<tr>
<td>VK_F9</td>
<td>120</td>
<td>F9</td>
</tr>
<tr>
<td>VK_F10</td>
<td>121</td>
<td>F10</td>
</tr>
<tr>
<td>VK_F11</td>
<td>122</td>
<td>F11</td>
</tr>
<tr>
<td>VK_F12</td>
<td>123</td>
<td>F12</td>
</tr>
<tr>
<td>VK_F13</td>
<td>124</td>
<td></td>
</tr>
<tr>
<td>VK_F14</td>
<td>125</td>
<td></td>
</tr>
<tr>
<td>VK_F15</td>
<td>126</td>
<td></td>
</tr>
<tr>
<td>VK_F16</td>
<td>127</td>
<td></td>
</tr>
<tr>
<td>VK_F17</td>
<td>128</td>
<td></td>
</tr>
<tr>
<td>VK_F18</td>
<td>129</td>
<td></td>
</tr>
<tr>
<td>VK_F19</td>
<td>130</td>
<td></td>
</tr>
<tr>
<td>VK_F20</td>
<td>131</td>
<td></td>
</tr>
<tr>
<td>VK_F21</td>
<td>132</td>
<td></td>
</tr>
<tr>
<td>VK_F22</td>
<td>133</td>
<td></td>
</tr>
<tr>
<td>VK_F23</td>
<td>134</td>
<td></td>
</tr>
<tr>
<td>VK_F24</td>
<td>135</td>
<td></td>
</tr>
<tr>
<td>VK_NUMLOCK</td>
<td>144</td>
<td>Num Lock</td>
</tr>
<tr>
<td>VK_SCROLL</td>
<td>145</td>
<td>Scroll</td>
</tr>
<tr>
<td>VK_LSHIFT</td>
<td>160</td>
<td></td>
</tr>
<tr>
<td>VK_RSHIFT</td>
<td>161</td>
<td></td>
</tr>
<tr>
<td>VK_LCONTROL</td>
<td>162</td>
<td></td>
</tr>
<tr>
<td>VK_RCONTROL</td>
<td>163</td>
<td></td>
</tr>
<tr>
<td>VK_LMENU</td>
<td>164</td>
<td></td>
</tr>
<tr>
<td>VK_RMENU</td>
<td>165</td>
<td></td>
</tr>
<tr>
<td>VK_BROWSER_BACK</td>
<td>166</td>
<td></td>
</tr>
<tr>
<td>VK_BROWSER_FORWARD</td>
<td>167</td>
<td></td>
</tr>
<tr>
<td>VK_BROWSER_REFRESH</td>
<td>168</td>
<td></td>
</tr>
<tr>
<td>VK_BROWSER_STOP</td>
<td>169</td>
<td></td>
</tr>
<tr>
<td>VK_BROWSER_SEARCH</td>
<td>170</td>
<td></td>
</tr>
<tr>
<td>VK_BROWSER_FAVORITES</td>
<td>171</td>
<td></td>
</tr>
<tr>
<td>VK_BROWSER_HOME</td>
<td>172</td>
<td></td>
</tr>
<tr>
<td>VK_VOLUME_MUTE</td>
<td>173</td>
<td>VolumeMute</td>
</tr>
<tr>
<td>VK_VOLUME_DOWN</td>
<td>174</td>
<td>VolumeDown</td>
</tr>
<tr>
<td>VK_VOLUME_UP</td>
<td>175</td>
<td>VolumeUp</td>
</tr>
<tr>
<td>VK_MEDIA_NEXT_TRACK</td>
<td>176</td>
<td></td>
</tr>
<tr>
<td>VK_MEDIA_PREV_TRACK</td>
<td>177</td>
<td></td>
</tr>
<tr>
<td>VK_MEDIA_STOP</td>
<td>178</td>
<td></td>
</tr>
<tr>
<td>VK_MEDIA_PLAY_PAUSE</td>
<td>179</td>
<td></td>
</tr>
<tr>
<td>VK_LAUNCH_MAIL</td>
<td>180</td>
<td></td>
</tr>
<tr>
<td>VK_LAUNCH_MEDIA_SELECT</td>
<td>181</td>
<td></td>
</tr>
<tr>
<td>VK_LAUNCH_APP1</td>
<td>182</td>
<td></td>
</tr>
<tr>
<td>VK_LAUNCH_APP2</td>
<td>183</td>
<td></td>
</tr>
<tr>
<td>VK_OEM_1</td>
<td>186</td>
<td>; :</td>
</tr>
<tr>
<td>VK_OEM_PLUS</td>
<td>187</td>
<td>= +</td>
</tr>
<tr>
<td>VK_OEM_COMMA</td>
<td>188</td>
<td></td>
</tr>
<tr>
<td>VK_OEM_MINUS</td>
<td>189</td>
<td>- _</td>
</tr>
<tr>
<td>VK_OEM_PERIOD</td>
<td>190</td>
<td></td>
</tr>
<tr>
<td>VK_OEM_2</td>
<td>191</td>
<td>/ ?</td>
</tr>
<tr>
<td>VK_OEM_3</td>
<td>192</td>
<td>` ~</td>
</tr>
<tr>
<td>VK_OEM_4</td>
<td>219</td>
<td>[ {</td>
</tr>
<tr>
<td>VK_OEM_5</td>
<td>220</td>
<td>\ |</td>
</tr>
<tr>
<td>VK_OEM_6</td>
<td>221</td>
<td>] }</td>
</tr>
<tr>
<td>VK_OEM_7</td>
<td>222</td>
<td>&rsquo; &quot;</td>
</tr>
<tr>
<td>VK_OEM_8</td>
<td>223</td>
<td></td>
</tr>
<tr>
<td>VK_OEM_102</td>
<td>226</td>
<td></td>
</tr>
<tr>
<td>VK_PACKET</td>
<td>231</td>
<td></td>
</tr>
<tr>
<td>VK_PROCESSKEY</td>
<td>229</td>
<td></td>
</tr>
<tr>
<td>VK_ATTN</td>
<td>246</td>
<td></td>
</tr>
<tr>
<td>VK_CRSEL</td>
<td>247</td>
<td></td>
</tr>
<tr>
<td>VK_EXSEL</td>
<td>248</td>
<td></td>
</tr>
<tr>
<td>VK_EREOF</td>
<td>249</td>
<td></td>
</tr>
<tr>
<td>VK_PLAY</td>
<td>250</td>
<td></td>
</tr>
<tr>
<td>VK_ZOOM</td>
<td>251</td>
<td></td>
</tr>
<tr>
<td>VK_NONAME</td>
<td>252</td>
<td></td>
</tr>
<tr>
<td>VK_PA1</td>
<td>253</td>
<td></td>
</tr>
<tr>
<td>VK_OEM_CLEAR</td>
<td>254</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="鼠标消息">
  鼠标消息
  <a class="heading-link" href="#%e9%bc%a0%e6%a0%87%e6%b6%88%e6%81%af">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>与BUTTON有关
L左键
M中键
R右键</p>
<p>相关代码</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="font-weight:bold">switch</span> (pMsg-&gt;message)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">case</span> WM_LBUTTONDOWN:
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;客户区鼠标左键点击&#34;</span>);
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">case</span> WM_NCLBUTTONDOWN:
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;非客户区鼠标左键点击&#34;</span>);
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">case</span> WM_LBUTTONDBLCLK:
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;客户区鼠标左键双击&#34;</span>);
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">case</span> WM_NCLBUTTONDBLCLK:
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;非客户区鼠标左键双击&#34;</span>);
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">case</span> WM_LBUTTONUP:
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;鼠标左键被释放&#34;</span>);
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">default</span>:
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><h2 id="windows控制台">
  Windows控制台
  <a class="heading-link" href="#windows%e6%8e%a7%e5%88%b6%e5%8f%b0">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="">#include</span> <span style="">&lt;Windows.h&gt;</span><span style="">
</span></span></span><span style="display:flex;"><span><span style=""></span>
</span></span><span style="display:flex;"><span><span style="">int</span> main()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	DWORD dwCount;
</span></span><span style="display:flex;"><span>	HANDLE hStd = GetStdHandle(STD_OUTPUT_HANDLE);
</span></span><span style="display:flex;"><span>	SetConsoleTextAttribute(hStd, FOREGROUND_RED | FOREGROUND_BLUE | BACKGROUND_BLUE);
</span></span><span style="display:flex;"><span>	WriteConsole(hStd, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Hello World!&#34;</span>, wcslen(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;Hello World!&#34;</span>), &amp;dwCount, NULL);
</span></span><span style="display:flex;"><span>	SetConsoleTitle(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;Title&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">return</span> 0;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="内存申请与释放">
  内存申请与释放
  <a class="heading-link" href="#%e5%86%85%e5%ad%98%e7%94%b3%e8%af%b7%e4%b8%8e%e9%87%8a%e6%94%be">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p><code>HeapAlloc</code> 内存申请
<code>HeapFree</code> 内存释放</p>
<p>相关代码</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>HANDLE hHeap = GetProcessHeap();
</span></span><span style="display:flex;"><span><span style="">char</span> * str = (<span style="">char</span>*)HeapAlloc(hHeap, HEAP_ZERO_MEMORY, 0x100);
</span></span><span style="display:flex;"><span>HeapFree(hHeap, 0, str);
</span></span></code></pre></div><h2 id="文件操作">
  文件操作
  <a class="heading-link" href="#%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<h3 id="win32">
  Win32
  <a class="heading-link" href="#win32">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>查看官方文档学习</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="">#include</span> <span style="">&lt;Windows.h&gt;</span><span style="">
</span></span></span><span style="display:flex;"><span><span style=""></span>
</span></span><span style="display:flex;"><span><span style="">int</span> main()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	HANDLE hFile = CreateFile(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;C:</span><span style="font-weight:bold;font-style:italic">\\</span><span style="font-style:italic">Users</span><span style="font-weight:bold;font-style:italic">\\</span><span style="font-style:italic">15890</span><span style="font-weight:bold;font-style:italic">\\</span><span style="font-style:italic">Desktop</span><span style="font-weight:bold;font-style:italic">\\</span><span style="font-style:italic">Test.txt&#34;</span>,GENERIC_ALL,NULL,NULL,OPEN_EXISTING,FILE_ATTRIBUTE_NORMAL,NULL);
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">if</span> (INVALID_HANDLE_VALUE == hFile)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		MessageBox(0, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;CreateFile Failed!&#34;</span>, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Error&#34;</span>, MB_OK);
</span></span><span style="display:flex;"><span>		ExitProcess(0);
</span></span><span style="display:flex;"><span>		system(<span style="font-style:italic">&#34;pause&#34;</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	DWORD dwFileLen = GetFileSize(hFile, NULL);
</span></span><span style="display:flex;"><span>	PTCHAR szBuffer;
</span></span><span style="display:flex;"><span>	HANDLE hHeap = GetProcessHeap();
</span></span><span style="display:flex;"><span>	szBuffer = (PTCHAR)HeapAlloc(hHeap, HEAP_ZERO_MEMORY, dwFileLen);
</span></span><span style="display:flex;"><span>	DWORD dwReadSize;
</span></span><span style="display:flex;"><span>	ReadFile(hFile, szBuffer, dwFileLen,&amp;dwReadSize, NULL);
</span></span><span style="display:flex;"><span>	CHAR szWriteBuffer[] = <span style="font-style:italic">&#34;Hello Windows API&#34;</span>;
</span></span><span style="display:flex;"><span>	DWORD dwWriteSize;
</span></span><span style="display:flex;"><span>	WriteFile(hFile, szWriteBuffer,strlen(szWriteBuffer), &amp;dwWriteSize, NULL);
</span></span><span style="display:flex;"><span>	HeapFree(hHeap, 0, szBuffer);
</span></span><span style="display:flex;"><span>	CloseHandle(hFile);
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">return</span> 0;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="cfile类">
  CFile类
  <a class="heading-link" href="#cfile%e7%b1%bb">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>官方文档非常详细</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>CFile cFile;
</span></span><span style="display:flex;"><span>cFile.Open(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;C:</span><span style="font-weight:bold;font-style:italic">\\</span><span style="font-style:italic">Users</span><span style="font-weight:bold;font-style:italic">\\</span><span style="font-style:italic">15890</span><span style="font-weight:bold;font-style:italic">\\</span><span style="font-style:italic">Desktop</span><span style="font-weight:bold;font-style:italic">\\</span><span style="font-style:italic">Test.txt&#34;</span>, CFile::modeReadWrite);
</span></span><span style="display:flex;"><span>DWORD dwFileLen = cFile.GetLength();
</span></span><span style="display:flex;"><span>PTCHAR szBuffer;
</span></span><span style="display:flex;"><span>HANDLE hHeap = GetProcessHeap();
</span></span><span style="display:flex;"><span>szBuffer = (PTCHAR)HeapAlloc(hHeap, HEAP_ZERO_MEMORY, dwFileLen);
</span></span><span style="display:flex;"><span>cFile.Read(szBuffer, dwFileLen);
</span></span><span style="display:flex;"><span>CHAR pbufWrite[] = <span style="font-style:italic">&#34;Hello CFile&#34;</span>;
</span></span><span style="display:flex;"><span>cFile.Write(pbufWrite, strlen(pbufWrite));
</span></span><span style="display:flex;"><span>cFile.Flush();
</span></span></code></pre></div><h2 id="消息框">
  消息框
  <a class="heading-link" href="#%e6%b6%88%e6%81%af%e6%a1%86">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p><code>MessageBox</code> Win32</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>DWORD ret = MessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;Hello World!&#34;</span>, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Title&#34;</span>, MB_YESNO);
</span></span><span style="display:flex;"><span><span style="font-weight:bold">if</span> (ret == IDYES)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	MessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;Yes&#34;</span>, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Tip&#34;</span>, MB_OK);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">else</span> if(ret == IDNO)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	MessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;No&#34;</span>, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Tip&#34;</span>, MB_OK);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><code>AfxMessageBox</code> MFC</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>DWORD ret = AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;Hello World!&#34;</span>, MB_YESNO);
</span></span><span style="display:flex;"><span><span style="font-weight:bold">if</span> (ret == IDYES)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;Yes&#34;</span>, MB_OK);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">else</span> if (ret == IDNO)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	AfxMessageBox(<span style="font-style:italic">L</span><span style="font-style:italic">&#34;No&#34;</span>, MB_OK);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="对话框">
  对话框
  <a class="heading-link" href="#%e5%af%b9%e8%af%9d%e6%a1%86">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<h3 id="模态对话框">
  模态对话框
  <a class="heading-link" href="#%e6%a8%a1%e6%80%81%e5%af%b9%e8%af%9d%e6%a1%86">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>会占用主对话框</p>
<p>相关代码</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="">void</span> CMFCAppModDlg::OnBnClickedButton1()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="font-style:italic">// TODO: 在此添加控件通知处理程序代码
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>	CDialogMod dlg;
</span></span><span style="display:flex;"><span>	dlg.DoModal();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="非模态对话框">
  非模态对话框
  <a class="heading-link" href="#%e9%9d%9e%e6%a8%a1%e6%80%81%e5%af%b9%e8%af%9d%e6%a1%86">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>不会占用主对话框</p>
<p>相关代码</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="">void</span> CMFCAppModDlg::OnBnClickedButton2()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="font-style:italic">// TODO: 在此添加控件通知处理程序代码
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>	CDialogModLess* m_Dlg = NULL;
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">if</span> (!m_Dlg)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		m_Dlg = <span style="font-weight:bold">new</span> CDialogModLess;
</span></span><span style="display:flex;"><span>		m_Dlg-&gt;Create(IDD_DIALOG2,<span style="font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>		m_Dlg-&gt;ShowWindow(SW_SHOW);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="通用对话框-文件选择">
  通用对话框-文件选择
  <a class="heading-link" href="#%e9%80%9a%e7%94%a8%e5%af%b9%e8%af%9d%e6%a1%86-%e6%96%87%e4%bb%b6%e9%80%89%e6%8b%a9">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>相关代码</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>CFileDialog m_dlg(TRUE, NULL, NULL, NULL, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;文本文件|*.txt|可执行文件|*.exe|所有文件|*.*||&#34;</span>, <span style="font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>m_dlg.DoModal();
</span></span><span style="display:flex;"><span>CString szPath = m_dlg.GetPathName();
</span></span><span style="display:flex;"><span><span style="font-weight:bold">if</span>(!szPath.IsEmpty())
</span></span><span style="display:flex;"><span>	AfxMessageBox(szPath);
</span></span></code></pre></div><h2 id="状态栏">
  状态栏
  <a class="heading-link" href="#%e7%8a%b6%e6%80%81%e6%a0%8f">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>相关代码</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>m_StatusBar.Create(<span style="font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>UINT arr[] = { 1,2,3 };
</span></span><span style="display:flex;"><span>m_StatusBar.SetIndicators(arr, 3);
</span></span><span style="display:flex;"><span>m_StatusBar.SetPaneInfo(0, arr[0], SBPS_NORMAL, 100);
</span></span><span style="display:flex;"><span>m_StatusBar.SetPaneInfo(1, arr[1], SBPS_NORMAL, 100);
</span></span><span style="display:flex;"><span>m_StatusBar.SetPaneInfo(2, arr[2], SBPS_NORMAL, 100);
</span></span><span style="display:flex;"><span>m_StatusBar.SetPaneText(0, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Text1&#34;</span>);
</span></span><span style="display:flex;"><span>m_StatusBar.SetPaneText(1, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Text2&#34;</span>);
</span></span><span style="display:flex;"><span>m_StatusBar.SetPaneText(2, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Text3&#34;</span>);
</span></span><span style="display:flex;"><span>RepositionBars(AFX_IDW_CONTROLBAR_FIRST, AFX_IDW_CONTROLBAR_LAST, 0);
</span></span></code></pre></div><h2 id="控件">
  控件
  <a class="heading-link" href="#%e6%8e%a7%e4%bb%b6">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>常用控件</p>
<ul>
<li>单选控件</li>
<li>复选控件</li>
<li>按钮控件</li>
<li>静态文本控件</li>
<li>编辑控件</li>
<li>列表控件</li>
<li>下拉框控件</li>
<li>进度条控件</li>
<li>滑块控件</li>
<li>IP控件</li>
<li>树状控件</li>
<li><strong>tab控件</strong></li>
</ul>
<p>(可参考微软官方文档进行学习)</p>
<h3 id="tab控件">
  tab控件
  <a class="heading-link" href="#tab%e6%8e%a7%e4%bb%b6">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>初始化</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>m_Tab.InsertItem(0, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Text&#34;</span>);
</span></span><span style="display:flex;"><span>m_Tab.InsertItem(1, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;List&#34;</span>);
</span></span><span style="display:flex;"><span>m_Tab.InsertItem(2, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Tree&#34;</span>);
</span></span><span style="display:flex;"><span>m_Tab.InsertItem(3, <span style="font-style:italic">L</span><span style="font-style:italic">&#34;Other&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>m_dlgText.Create(IDD_DIALOG1, &amp;m_Tab);
</span></span><span style="display:flex;"><span>m_dlgList.Create(IDD_DIALOG2, &amp;m_Tab);
</span></span><span style="display:flex;"><span>m_dlgTree.Create(IDD_DIALOG3, &amp;m_Tab);
</span></span><span style="display:flex;"><span>m_dlgOther.Create(IDD_DIALOG4, &amp;m_Tab);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CRect rs;
</span></span><span style="display:flex;"><span>m_Tab.GetClientRect(rs);
</span></span><span style="display:flex;"><span>rs.top += 20;
</span></span><span style="display:flex;"><span>m_dlgText.MoveWindow(rs);
</span></span><span style="display:flex;"><span>m_dlgList.MoveWindow(rs);
</span></span><span style="display:flex;"><span>m_dlgTree.MoveWindow(rs);
</span></span><span style="display:flex;"><span>m_dlgOther.MoveWindow(rs);
</span></span><span style="display:flex;"><span>m_dlgText.ShowWindow(SW_SHOW);
</span></span></code></pre></div><p>使用</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="">int</span> nCurSel;
</span></span><span style="display:flex;"><span>nCurSel = m_Tab.GetCurSel();
</span></span><span style="display:flex;"><span><span style="font-weight:bold">switch</span> (nCurSel)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="font-weight:bold">case</span> 0:
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	m_dlgText.ShowWindow(SW_SHOW);
</span></span><span style="display:flex;"><span>	m_dlgList.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	m_dlgTree.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	m_dlgOther.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">case</span> 1:
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	m_dlgText.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	m_dlgList.ShowWindow(SW_SHOW);
</span></span><span style="display:flex;"><span>	m_dlgTree.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	m_dlgOther.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">case</span> 2:
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	m_dlgText.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	m_dlgList.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	m_dlgTree.ShowWindow(SW_SHOW);
</span></span><span style="display:flex;"><span>	m_dlgOther.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">case</span> 3:
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	m_dlgText.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	m_dlgList.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	m_dlgTree.ShowWindow(SW_HIDE);
</span></span><span style="display:flex;"><span>	m_dlgOther.ShowWindow(SW_SHOW);
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">default</span>:
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="热键">
  热键
  <a class="heading-link" href="#%e7%83%ad%e9%94%ae">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>相关代码</p>
<p>注册</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>RegisterHotKey(m_hWnd, HOT_KEY_MESSAGEBOX, MOD_WIN, VK_F2);
</span></span></code></pre></div><p>使用</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="">void</span> CMFCAppUseDlg::OnHotKey(UINT nHotKeyId, UINT nKey1, UINT nKey2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="font-style:italic">// TODO: 在此添加消息处理程序代码和/或调用默认值
</span></span></span><span style="display:flex;"><span><span style="font-style:italic"></span>	<span style="font-weight:bold">switch</span> (nHotKeyId)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">case</span> HOT_KEY_MESSAGEBOX:
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		AfxMessageBox(
</span></span><span style="display:flex;"><span>			<span style="font-style:italic">L</span><span style="font-style:italic">&#34;</span><span style="font-weight:bold;font-style:italic">\u2764\u2721\u262a\u2600\u2602\u2622\u2648\u2649\u264a\u264b\u264c\u264d</span><span style="font-style:italic">&#34;</span>
</span></span><span style="display:flex;"><span>			<span style="font-style:italic">L</span><span style="font-style:italic">&#34;</span><span style="font-weight:bold;font-style:italic">\u264e\u264f\u2650\u2651\u2652\u2653\u2690\u2691\u26c4\u2620\u27bc\u2200</span><span style="font-style:italic">&#34;</span>
</span></span><span style="display:flex;"><span>		);
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">default</span>:
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	CDialogEx::OnHotKey(nHotKeyId, nKey1, nKey2);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yourdiscussshortname" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"
    integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"
    integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js"
    integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2022
     OrcasCode 
    ·
    
    Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

  </main>

  
  
  <script src="/js/coder.min.236049395dc3682fb2719640872958e12f1f24067bb09c327b233e6290c7edac.js" integrity="sha256-I2BJOV3DaC&#43;ycZZAhylY4S8fJAZ7sJwyeyM&#43;YpDH7aw="></script>
  

  

  

  

  

  

  

  

  

  
</body>

</html>
